<template name="wikiPage">
	<div class="row">
		{{#if algoExists}}
		{{#with getSessionAlgo}}
		<div class="col-md-3">
			{{ > blockAlgoLarge this}}
		</div>
		<div class="col-md-9">
			<div class="row page-header">
				<div class="col-md-offset-2 col-md-10">
					<h2>{{ > algoName this}} <small>{{ > algoID this}}</small></h2>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
					{{ > algoWiki this}}
			</div>
			{{#if currentUser}}
			<div class="row">
				<div class="col-md-offset-11 col-md-1">
					<button data-toggle="modal" title="Edit Description" data-target="#editModal" class="btn btn-info btn-sm"><span class="glyphicon glyphicon-pencil"></span></button>
				</div>
			</div>
			<div class="row">
				<div class="col-md-12">
				{{ > getChanges this}}
				</div>
			</div>
			<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
				<div class="modal-dialog">
					<div class="modal-content">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
								<h4 class="modal-title" id="myModalLabel">{{ > algoName this}} <small>{{ > algoID this}}</small></h4>
							</div>
							<div class="modal-body input-group">
									<pre style="font-family: Times New Roman"><textarea form="wikiUpdate" name="updater" class="form-control" cols="500" rows="15">{{ > algoWikiBare this}}</textarea></pre>
							</div>
							<div class="modal-footer">
								<form role="form" id="wikiUpdate">
									<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
									<button type="button" name="editDesc" class="btn btn-primary" data-dismiss="modal">Save changes</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			{{/if}}
			</div>
		</div>
		{{/with}}
		{{else}}
		<div class="col-md-12">
			<h4>No algorithm exists with that algorithm ID :C</h4>
		</div>
		{{/if}}
	</div>
</template>
