<template name="nav">

<nav class="navbar navbar-default" role="navigation">
	<div class="container-fluid">
		<div class="navbar-header">
			<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
				<span class="sr-only">Toggle navigation</span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
				<span class="icon-bar"></span>
			</button>
			<a class="navbar-brand" href="{{pathFor 'home'}}"><span title="Home" class="glyphicon glyphicon-home"></span></a>
		</div>

		<div class="collapse navbar-collapse" id="navbar-collapse-1">
			<ul class="nav navbar-nav navbar-left">
				<li><a href="{{pathFor 'pediaHome'}}">Algorithms</a></li>
				<li><a href="{{pathFor 'langs'}}">Languages</a></li>
				<li><a href="{{pathFor 'guide'}}">About</a></li>
				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">Contribute<span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						<li><a href="#" data-toggle="modal" data-target="#algoModal">Add Algorithm</a></li>
						<li class="divider"></li>
						<li><a href="#" data-toggle="modal" data-target="#langModal">Add Language</a></li>
					</ul>
				</li>
			</ul>
			{{ > loginButtons }}
			<ul class="nav navbar-nav navbar-right">
				<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown">{{#if currentUser}}<span class="badge">{{ > getMessageCount}}</span> {{getName}}{{else}}Log in/Sign up{{/if}}<span class="caret"></span></a>
					<ul class="dropdown-menu" role="menu">
						{{#if currentUser}}
						{{#with userID}}
						<li><a href="{{pathFor 'users'}}">Profile</a></li>
						{{/with}}
						<li><a href="#" data-toggle="modal" data-target="#inboxModal">Notifications <span class="badge">{{ > getMessageCount}}</span></a></li>
						<li><a href="#" name="logout">Log out</a></li>
						{{else}}
						<li><a href="#" name="github">Login with Github</a></li>
						<li><a href="#" name="google">Login with Google</a></li>
						{{/if}}
					</ul>
				</li>
			</ul>
		</div>
	</div>
</nav>

<div class="modal fade" id="algoModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title">Add Algorithm</h4>
			</div>
			<div class="modal-body">
				{{ > contributeAlgo}}
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="langModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title">Add Language</h4>
			</div>
			<div class="modal-body">
				{{ > contributeLang}}
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="inboxModal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" name="dismissInbox" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
				<h4 class="modal-title">Notifications</h4>
			</div>
			<div class="modal-body">
				{{ > getInbox}}
			</div>
		</div>
	</div>
</div>

</template>
